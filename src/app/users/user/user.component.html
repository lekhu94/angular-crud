<section>
    <h1>
        <span routerLink="/users">Back</span> {{userId ? 'Edit' : 'Add'}} User
    </h1>
    <form [formGroup]="form">
        <div class="form-control">
            <label for="">First Name *</label>
            <input type="text"  formControlName="firstName">
            <p class="error" *ngIf="form.controls['firstName'].invalid && form.controls['firstName'].touched">
                <span *ngIf="form.controls['firstName'].errors?.['required']">First Name is required. </span>
                <span *ngIf="form.controls['firstName'].errors?.['minlength']">First Name must be at least {{form.controls['firstName'].errors?.['minlength'].requiredLength}} characters long.</span>
                <span *ngIf="form.controls['firstName'].errors?.['maxlength']">First Name can be max {{form.controls['firstName'].errors?.['maxlength'].requiredLength}} characters long.</span>
            </p>
        </div>
        <div class="form-control">
            <label for="">Last Name</label>
            <input type="text" formControlName="lastName">
        </div>
        <div class="form-control">
            <label for="">Email Address *</label>
            <input type="text" formControlName="email" [attr.disabled]="isEditForm ? true : null">
            <p class="error" *ngIf="form.controls['email'].invalid && form.controls['email'].touched">
                <span *ngIf="form.controls['email'].errors?.['required']">Email is required. </span>
                <span *ngIf="form.controls['email'].errors?.['pattern']">Email must be a valid email address.</span>
            </p>
        </div>
        <div class="form-control">
            <label for="">Phone Number *</label>
            <input type="text" formControlName="phone" [attr.disabled]="isEditForm ? true : null">
            <p class="error" *ngIf="form.controls['phone'].invalid && form.controls['phone'].touched">
                <span *ngIf="form.controls['phone'].errors?.['required']">Phone Number is required. </span>
                <span *ngIf="form.controls['phone'].errors?.['pattern'] || form.controls['phone'].errors?.['minlength']">Please, Enter 10 digit Phone Number. </span>
            </p>
        </div>
        <div class="form-control">
            <button type="submit" (click)="onSubmit()">{{userId ? 'Update' : 'Submit'}}</button>
        </div>
        <div class="spinner" *ngIf="isLoader"> 
            <span></span>
        </div>
    </form>
</section>

<app-alert *ngIf="isAlert" [message]="alertMessage" [type]="'success'"></app-alert>